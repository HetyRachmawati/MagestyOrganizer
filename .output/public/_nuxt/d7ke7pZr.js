import{_ as k}from"./-Si7dSij.js";import{_ as P,r as o,u as R,o as m,c as v,a as l,s as V,v as t,x as r,d as x,b as N,w as q,z as A,A as C}from"./BqTsYXpV.js";import{_ as U}from"./cJP_bxJ8.js";const B={class:"min-h-screen flex items-center justify-center bg-purple-50 p-4"},E={class:"relative flex flex-col border border-purple-600 shadow-lg p-6 rounded-lg bg-white w-full max-w-md lg:max-w-lg"},M={class:"w-full"},S={class:"bg-white p-4 rounded-lg shadow-md"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},F={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},T=["disabled"],I={key:0},L={key:1},O={class:"text-center text-sm mt-4"},$={__name:"RegisterForm",setup(w){const a=o(""),n=o(""),u=o(""),f=o(""),i=o(""),d=o(""),p=o(!1),b=R(),y=A(),_=async()=>{var c;if(u.value!==f.value){alert("Passwords do not match!");return}if(!a.value||!n.value||!u.value||!i.value||!d.value){alert("Please fill all fields!");return}p.value=!0;try{const e=await $fetch(`${y.public.apiBase}/register`,{method:"POST",body:{name:a.value,email:n.value,password:u.value,no_hp:i.value,alamat:d.value}});e&&e.user&&(localStorage.setItem("name",e.name.value),alert("Registration successful, please check your email for verification"),b.push("/auth/login"))}catch(e){console.error("Registration failed:",e);const g=((c=e.data)==null?void 0:c.message)||"Registration failed. Please try again.";alert(g)}finally{p.value=!1}},h=()=>{b.push("admin/dashboard")};return(c,e)=>{const g=k;return m(),v("div",B,[l("div",E,[l("button",{class:"absolute top-4 right-4 text-purple-500 hover:text-purple-600 focus:outline-none text-2xl font-bold",onClick:h}," Ã— "),e[15]||(e[15]=l("div",{class:"flex flex-col items-center justify-center mb-6"},[l("img",{src:U,alt:"Magesty Organizer Logo",class:"w-24 lg:w-32 mb-4"}),l("h1",{class:"text-purple-500 text-2xl lg:text-3xl font-bold"},"MAGESTY ORGANIZER")],-1)),l("div",M,[l("div",S,[e[14]||(e[14]=l("h2",{class:"text-center text-purple-500 text-2xl font-bold mb-4"},"Register",-1)),l("form",{onSubmit:V(_,["prevent"]),class:"space-y-4"},[l("div",null,[e[6]||(e[6]=l("label",{for:"name",class:"block text-sm font-medium mb-1"},"Full Name",-1)),t(l("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),type:"text",id:"name",placeholder:"Your Full Name",required:"",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[r,a.value]])]),l("div",null,[e[7]||(e[7]=l("label",{for:"address",class:"block text-sm font-medium mb-1"},"Address",-1)),t(l("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),type:"text",id:"address",placeholder:"Your Address",required:"",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[r,d.value]])]),l("div",Y,[l("div",null,[e[8]||(e[8]=l("label",{for:"email",class:"block text-sm font-medium mb-1"},"Email",-1)),t(l("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),type:"email",id:"email",placeholder:"Your Email",required:"",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[r,n.value]])]),l("div",null,[e[9]||(e[9]=l("label",{for:"phone",class:"block text-sm font-medium mb-1"},"Phone",-1)),t(l("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>i.value=s),type:"tel",id:"phone",placeholder:"Your Phone Number",required:"",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[r,i.value]])])]),l("div",F,[l("div",null,[e[10]||(e[10]=l("label",{for:"password",class:"block text-sm font-medium mb-1"},"Password",-1)),t(l("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>u.value=s),type:"password",id:"password",placeholder:"Password",required:"",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[r,u.value]])]),l("div",null,[e[11]||(e[11]=l("label",{for:"confirmPassword",class:"block text-sm font-medium mb-1"},"Confirm Password",-1)),t(l("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>f.value=s),type:"password",id:"confirmPassword",placeholder:"Confirm your password",required:"",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[r,f.value]])])]),l("button",{type:"submit",disabled:p.value,class:"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600 transition-colors font-medium disabled:opacity-50"},[p.value?(m(),v("span",I,"Registering...")):(m(),v("span",L,"Register"))],8,T)],32),l("p",O,[e[13]||(e[13]=x(" Already have an account? ")),N(g,{to:"/auth/login",class:"text-purple-500 font-medium hover:underline"},{default:q(()=>e[12]||(e[12]=[x("Login Here")])),_:1})])])])])])}}},j=P($,[["__scopeId","data-v-6b128995"]]),H={__name:"register",setup(w){return(a,n)=>(m(),C(j))}};export{H as default};
